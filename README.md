# WebRest Starter #

This repository works as a scaffold for spring boot web mvc and rest service. This repository contains very common and basic implementation of authentication, authorization, user profile, user listing etc. It is mainly targeted for a product having admin panel for configuring data and serve rest services based on those configured data.

## Quick Start ##

You have to perform following steps to up and running

1. Clone the repostory.
2. Setup the database.
3. Setup the environment variables
4. Run it

#### 1. Clone the repository ####

```sh
git clone https://github.com/ratulSharker/webrest-starter.git
```

#### 2. Setup the databse ####

You can use any RDBMS implementation to start. Create a schema in your favorite database.

#### 3. Setup the environment variables ###

Now time to declare the environment variables. Declare following environment variables into your operating system or IDE.

```sh
DB_SERVER=jdbc:<YOUR-DATABASE-DIALECT>://localhost:<YOUR-DATABASE-PORT>/<SCHEMA-NAME> -- Use `jdbc:mysql://localhost:3306/<SCHEMA-NAME>` for MySQL
DB_USERNAME=<YOUR-DATABASE-USERNAME>
DB_PASSWORD=<YOUR-DATABASE-PASSWORD>
DB_DRIVER=<APPROPRIATE-DATABASE-DRIVER> --use `com.mysql.cj.jdbc.Driver` for MySQL

JWT_EXPIRY_IN_MINUTES=525600
JWT_SYMETTRIC_SECRET=super#secret!string

FILE_STORAGE_TEMP_PATH=<PATH-TO-TEMP-FOLDER>
FILE_STORAGE_ROOT_PATH=<PATH-TO-ROOT-DIRECTORY-WHERE-FILES-WILL-BE-FINALLY-STORED>

FILE_STORAGE_TYPE=FILESYSTEM
EMAIL_HOST=<HOST-NAME-OF-YOUR-EMAIL-SERVICE> -- Use `smtp.gmail.com` for gmail.
EMAIL_HOST_PORT=<PORT-OF-YOUR-EMAIL-SERVICE> -- Use 587 for gmail
EMAIL_USERNAME=<EMAIL-ADDRESS-FROM-WHERE-ALL-THE-OUTGOING-EMAIL-WILL-BE-SENT>
EMAIL_PASSWORD=<OUTGOING-EMAIL-PASSWORD>
APP_HOST_URL=http://localhost:8080
```

#### 4. Run it ####

Now run the project once. Run the project like any other spring boot project. After running the project, all the necessary tables for project will be generated by hibernate. Visit http://localhost:8080 for the login screen.

Now need a user to be present in the database, so we can check login. Run the insert script inside the `dbscript/initial.sql`. 

Then login using the following credential

- email : john@gmail.com
- password: secret


## Project Structure ##

There are three main packages 

<details>
  <summary>Common</summary>
  <br/>
  This package contains common implementation for both REST & Web. It contains the configuration of beans, DTO declarations, Enum declaration, Entity declarations, Repository declaration, Service declarations and some Utils declarations.
</details>

<details>
  <summary>REST</summary>
  <br/>
  This package contains the implementation REST service specific. From the birds eye view, REST service's routes and controller declarations resides in this package. It shares the service portion from the Common package.
</details>

<details>
  <summary>Web</summary>
  <br/>
  This package contains Web related implementation. It declares a route file and their controller portion. Templates are served from templates inside of the resource folder. It shares the service implementations from Common package. For templating, <a href="https://www.thymeleaf.org/">Thymeleaf</a> is being used. In the front end <a href="https://jquery.com/">jQuery</a> and <a href="https://getbootstrap.com/">Bootstrap</a> is being used.
</details>
